<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>

<AnchorPane xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.example.lab6networkfx.controller.MainController">
  <children>
    <HBox spacing="20" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">

      <!-- First Panel: Choice between Users or Friendships -->
      <AnchorPane style="-fx-background-color: #3c3c3c;" HBox.hgrow="ALWAYS">
        <VBox alignment="TOP_LEFT" prefHeight="400" prefWidth="150" style="-fx-padding: 10;" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
          <HBox alignment="CENTER" style="-fx-padding: 10; -fx-font-weight: bold;">
            <Label style="-fx-font-size: 18px; -fx-text-fill: white;" text="Options" />
          </HBox>
          <VBox alignment="TOP_LEFT" spacing="10" style="-fx-padding: 10;">
            <Label text="Choose:" />
            <RadioButton fx:id="usersRadioButton" text="Users" />
            <RadioButton fx:id="friendshipsRadioButton" text="Friendships" />
          </VBox>
        </VBox>
      </AnchorPane>

      <!-- Second Panel: Table View -->
      <AnchorPane minHeight="200" minWidth="350" style="-fx-background-color: #535556;" HBox.hgrow="ALWAYS">
        <VBox alignment="TOP_CENTER" prefHeight="400" style="-fx-padding: 10;" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
          <HBox fx:id="tableHeader" alignment="CENTER" style="-fx-padding: 10; -fx-font-weight: bold;">
            <Label style="-fx-font-size: 18px; -fx-text-fill: white;" text="Table" />
          </HBox>
          <StackPane alignment="CENTER" VBox.vgrow="ALWAYS">
            <Label fx:id="noTableLabel" style="-fx-font-size: 18px; -fx-text-fill: grey;" text="No table selected" />
          </StackPane>
          <VBox fx:id="tablePanel" alignment="TOP_CENTER" style="-fx-padding: 10;">
            <TableView fx:id="userTableView" onMouseClicked="#handleUserRowClick" VBox.vgrow="SOMETIMES">
              <columns>
                <TableColumn fx:id="tableUserID" prefWidth="50" text="ID" />
                <TableColumn fx:id="tableFirstName" prefWidth="110" text="First Name" />
                <TableColumn fx:id="tableLastName" prefWidth="100" text="Last Name" />
                <TableColumn fx:id="tableUsername" prefWidth="100" text="Username" />
              </columns>
            </TableView>
            <TableView fx:id="friendshipTableView" onMouseClicked="#handleFriendshipRowClick" VBox.vgrow="SOMETIMES">
              <columns>
                <TableColumn fx:id="tableFriendshipUser1" prefWidth="107" text="1st User" />
                <TableColumn fx:id="tableFriendshipUser2" prefWidth="98.20002746582031" text="2nd User" />
                <TableColumn fx:id="tableFriendshipDate" prefWidth="147.19999084472659" text="Since Date" />
              </columns>
            </TableView>
          </VBox>
        </VBox>
      </AnchorPane>

      <!-- Third Panel: Add and Delete Buttons -->
      <AnchorPane style="-fx-background-color: #535556;" HBox.hgrow="ALWAYS">
        <VBox alignment="TOP_CENTER" prefHeight="400" style="-fx-padding: 10;" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
          <HBox alignment="CENTER" style="-fx-padding: 10; -fx-font-weight: bold;">
            <Label style="-fx-font-size: 18px; -fx-text-fill: white;" text="Actions" />
          </HBox>
          <VBox alignment="TOP_CENTER" prefWidth="50" spacing="10" styleClass="button-panel">
            <Button fx:id="btnAdd" onAction="#handleUserPanelClick">
              <tooltip>
                <Tooltip text="Add" />
              </tooltip>
              <graphic>
                <ImageView fitHeight="24" fitWidth="24">
                  <image>
                    <Image url="@/org/example/lab6networkfx/images/add.png" />
                  </image>
                </ImageView>
              </graphic>
            </Button>
            <Button fx:id="btnDelete" onAction="#handleUserPanelClick">
              <tooltip>
                <Tooltip text="Delete" />
              </tooltip>
              <graphic>
                <ImageView fitHeight="24" fitWidth="24">
                  <image>
                    <Image url="@/org/example/lab6networkfx/images/minus.png" />
                  </image>
                </ImageView>
              </graphic>
            </Button>
            <Button fx:id="btnSendRequest" onAction="#handleUserPanelClick">
              <tooltip>
                <Tooltip text="Send Friend Request" />
              </tooltip>
              <graphic>
                <ImageView fitHeight="24" fitWidth="24">
                  <image>
                    <Image url="@/org/example/lab6networkfx/images/send-request.png" />
                  </image>
                </ImageView>
              </graphic>
            </Button>
            <Button fx:id="btnFriendAdd" onAction="#handleUserPanelClick">
              <tooltip>
                <Tooltip text="Add Friend" />
              </tooltip>
              <graphic>
                <ImageView fitHeight="24" fitWidth="24">
                  <image>
                    <Image url="@/org/example/lab6networkfx/images/add-friend.png" />
                  </image>
                </ImageView>
              </graphic>
            </Button>
            <Button fx:id="btnDeleteFriend" onAction="#handleUserPanelClick">
              <tooltip>
                <Tooltip text="Remove Friend" />
              </tooltip>
              <graphic>
                <ImageView fitHeight="24" fitWidth="24">
                  <image>
                    <Image url="@/org/example/lab6networkfx/images/delete-friend.png" />
                  </image>
                </ImageView>
              </graphic>
            </Button>
            <Button fx:id="btnFriendList" onAction="#handleUserPanelClick">
              <tooltip>
                <Tooltip text="Friend List" />
              </tooltip>
              <graphic>
                <ImageView fitHeight="24" fitWidth="24">
                  <image>
                    <Image url="@/org/example/lab6networkfx/images/friends.png" />
                  </image>
                </ImageView>
              </graphic>
            </Button>
            <Button fx:id="btnFriendRequestsList" onAction="#handleUserPanelClick">
              <tooltip>
                <Tooltip text="Friend Requests List" />
              </tooltip>
              <graphic>
                <ImageView fitHeight="24" fitWidth="24">
                  <image>
                    <Image url="@/org/example/lab6networkfx/images/friend-request.png" />
                  </image>
                </ImageView>
              </graphic>
            </Button>
          </VBox>
        </VBox>
      </AnchorPane>
    </HBox>
  </children>
</AnchorPane>
